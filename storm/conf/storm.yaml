{% set nimbus_host = salt['mine.get']('G@stack_id:' ~ grains.stack_id ~ ' and G@roles:storm.nimbus', 'grains.items', 'compound').values()[0]['fqdn'] %}
{% set zookeeper_hosts = salt['mine.get']('G@stack_id:' ~ grains.stack_id ~ ' and G@roles:cdh4.zookeeper', 'grains.items', 'compound').values() %}

{% if zookeeper_hosts %}
storm.zookeeper.servers:
{% for host_items in zookeeper_hosts %}
  - {{ host_items['fqdn'] }}
{% endfor %}
{% endif %}

nimbus.host: {{ nimbus_host }}

storm.local.dir: {{ pillar.storm.local_dir }}
